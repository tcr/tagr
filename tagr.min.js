/*
 Tagr, HTML manipulation for webapps. MIT Licensed.
*/
var j=null;
(function(){function t(a,b){function d(){this.constructor=a}for(var c in b)y.call(b,c)&&(a[c]=b[c]);d.prototype=b.prototype;a.prototype=new d;a.n=b.prototype}var p,r,q,u,n,o,k,h,v,w,s,l=[].slice,y={}.hasOwnProperty,x=[].indexOf||function(a){for(var b=0,d=this.length;b<d;b++)if(b in this&&this[b]===a)return b;return-1};v=function(){return name.toLowerCase().replace(/\-[a-z]/g,function(a){return a[1].toUpperCase()})};r=function(){function a(){}a.name="EventEmitter";a.prototype.i=function(a){return this.hasOwnProperty.call(this.b!=j?
this.b:this.b={},a)?this.b[a]:this.b[a]=[]};a.prototype.j=function(){return this.d.apply(this,1<=arguments.length?l.call(arguments,0):[])};a.prototype.d=function(a,d){this.i(a).push(d)>this.o&&0!==this.o&&"undefined"!==typeof console&&console!==j&&console.warn("Possible EventEmitter memory leak detected. "+this.b[a].length+" listeners added. Use emitter.setMaxListeners() to increase limit.");this.h("newListener",a,d);return this};a.prototype.h=function(){var a,d,c,e,f,g;c=arguments[0];a=2<=arguments.length?
l.call(arguments,1):[];g=this.i(c);e=0;for(f=g.length;e<f;e++)d=g[e],d.apply(this,a);return 0<this.i(c).length};a.prototype.o=10;return a}();n=function(){var a,b,d,c;c=/^loade|c/.test(document.readyState);d=[];a=function(a){var b;c=!0;for(b=[];a=d.shift();)b.push(a());return b};if(document.documentElement.doScroll)return document.attachEvent("onreadystatechange",b=function(){if(/^c/.test(document.readyState))return document.detachEvent("onreadystatechange",b),a()}),function(a){return self!==top?c?
a():d.push(a):function(){try{testEl.doScroll("left")}catch(d){return setTimeout(function(){return ready(a)},50)}return a()}()};if(document.addEventListener!=j)return document.addEventListener("DOMContentLoaded",b=function(){document.removeEventListener("DOMContentLoaded",b,!1);return a()},!1),function(a){return c?a():d.push(a)}}();o=function(){var a;a=0;return function(b){var d;return(d=b.u)!=j?d:b.u=a++}}();p=function(){function a(){this.f={}}var b;a.name="DomMap";b=function(a){for(var c in a)return!1;
return!0};a.prototype.set=function(a,c,b){var f,g,i;return((i=(f=this.f)[g=o(a)])!=j?i:f[g]={})[c]=b};a.prototype.get=function(a,c){var b;return(b=this.f[o(a)])!=j?b[c]:j};a.prototype.remove=function(a,c){var e;if(e=this.f[o(a)])delete e[c],b(e)&&delete this.f[o(a)];return j};return a}();h=function(){var a;a=1<=arguments.length?l.call(arguments,0):[];return h.create.apply(h,a)};h.q=["data-tagr"];h.m={"for":"htmlFor",B:"accessKey",F:"codeBase",H:"frameBorder",I:"frameSpacing",O:"noWrap",N:"maxLength",
"class":"className",P:"readOnly",M:"longDesc",S:"tabIndex",R:"rowSpan",G:"colSpan",enctype:"encType",L:"isMap",T:"useMap",C:"cellPadding",D:"cellSpacing"};h.p={value:function(a){var b;b=function(){return a.e.value=a.a.value};a.j("input",b);return a.j("propertychange",function(a){if("value"===a.propertyName)return b()})},checked:function(a){return a.j("change",function(){return a.e.checked=a.a.checked})}};h.create=function(a,b){var d,c,e;b==j&&(b={});d=document.createElement(a);for(c in b)e=b[c],d.setAttribute(c,
e);return new q(d)};h.parse=function(a){var b,d,c,e;if("string"===typeof a)return a;e=a[0];c=a[1];d=3<=a.length?l.call(a,2):[];a=h.create(e,c);a.append.apply(a,function(){var a,c,e;e=[];a=0;for(c=d.length;a<c;a++)b=d[a],e.push(h.parse(b));return e}());return a};h.Q=n;h.c=new p;h.getContext=function(a){var b;if(1!==a.nodeType)throw Error("Cannot create Tagr context from non-element");if((b=h.c.get(a,"tagr"))==j)h.c.set(a,"tagr",b=new q(a));return b};h.t=function(a){if(1!==a.nodeType)throw Error("Cannot create Tagr context of non-element");
if((a=h.c.get(a,"tagr"))==j)throw Error("No Tagr wrapper exists for this element.");return a};h.U=function(a,b){var d;a==j&&(a="div");b==j&&(b={});document.write("<"+a+"></"+a+">");d=document.getElementsByTagName("*");return h.getContext(d[d.length-1]).l(b)};h.v=q=function(a){function b(a,c){var e,f,g,i,m,l;this.a=a;this.parent=c;this.e={};l=this.a.attributes;i=0;for(m=l.length;i<m;i++)e=l[i],0>x.call(h.q,e)&&(this.e[e.name]=e.value);i=h.p;for(f in i)e=i[f],this.a[(g=h.m[f])!=j?g:f]!=j&&e(this);this.a.className.match(/\S+/g);
this.style={};i=this.a.style;g=0;for(e=i.length;g<e;g++)f=i[g],this.style[f]=this.a.style[f];this.length=this.a.childNodes.length;m=this.a.childNodes;g=e=0;for(i=m.length;e<i;g=++e)f=m[g],this[g]=1===f.nodeType?new b(f,this):f.A}t(b,a);b.name="Tagr";b.prototype.r=function(a){this.parent=a;h.c.set(this.a,"tagr",this)};b.prototype.s=function(){this.parent=j;h.c.remove(this.a,"tagr")};b.prototype.splice=function(){var a,c,b,f,g,i,m,k,n,o;f=arguments[0];b=arguments[1];a=3<=arguments.length?l.call(arguments,
2):[];if(0>f||isNaN(f))throw"Invalid index";if(b){i=[];for(g=m=0;0<=b?m<b:m>b;g=0<=b?++m:--m)c=this[f+g],this.a.removeChild(this.a.childNodes[f]),"object"===typeof c&&c.s(),delete this[f+g],i.push(c);m=i}if(b>a.length){g=c=i=f+b;for(k=this.length;i<=k?c<k:c>k;g=i<=k?++c:--c)this[g-b]=this[g]}if(a.length>b)for(g=c=i=this.length+a.length-1;i<=f?c<f:c>f;g=i<=f?++c:--c)this[g]=this[g-a.length];if(a.length){k=this.a.childNodes[f];g=n=0;for(o=a.length;n<o;g=++n){c=a[g];"object"===typeof c&&(c!=j?c.constructor:
void 0)===Array?(c=h.parse(c),i=c.a):i="string"===typeof c?document.createTextNode(c):c.a;if(i.parentNode)throw Error("Must remove element before appending elsewhere.");this.a.insertBefore(i,k);"object"===typeof c&&c.r(this);this[f+g]=c}}this.length+=-b+a.length;return m};b.prototype.append=function(){var a;a=1<=arguments.length?l.call(arguments,0):[];this.splice.apply(this,[this.length,0].concat(l.call(a)));return this};b.prototype.remove=function(a){this.splice(a,1);return this};b.prototype.k=function(a,
b){var e;"class"===a&&b.match(/\S+/g);this.a[(e=h.m[a])!=j?e:a]=this.e[a]=b;return this};b.prototype.l=function(a){var b,e;for(b in a)e=a[b],this.k(b,e);return this};b.prototype.d=function(a,c){var e,f,g=this;"function"===typeof(e=this.a).addEventListener&&e.addEventListener(a,function(b){return g.h(a,b)},!1);"function"===typeof(f=this.a).attachEvent&&f.attachEvent("on"+a(function(){return g.h(a,window.event)}));return b.n.d.call(this,a,c)};return b}(r);s=["forEach","slice","map","indexOf"];p=function(a){q.prototype[a]=
function(){var b;b=1<=arguments.length?l.call(arguments,0):[];return Array.prototype[a].apply(this,b)}};n=0;for(w=s.length;n<w;n++)k=s[n],p(k);h.z=function(a){function b(a,b){this.g=a;this.match=b}t(b,a);b.name="TagrQuery";b.prototype.d=function(a,c){var e=this;this.g.a.addEventListener(a,function(a){var b,d;b=Sizzle(""+e.match,e.g.a);k=a.target;for(d=[];k!==e.g.a&&k;)0<=x.call(b,k)&&c.call(h.t(k),a),d.push(k=k.parentNode);return d},!1);return b.n.d.call(this,a,c)};return b}(r);h.w=u=function(){function a(){var a,
d,c,e;a=1<=arguments.length?l.call(arguments,0):[];this.length=a.length;c=0;for(e=a.length;c<e;c++)d=a[c],this[d]=a[d]}a.name="TagrList";a.prototype.k=function(){var a,d,c,e,f;a=1<=arguments.length?l.call(arguments,0):[];f=[];c=0;for(e=this.length;c<e;c++)d=this[c],f.push(d.k.apply(d,a));return f};a.prototype.l=function(){var a,d,c,e,f;a=1<=arguments.length?l.call(arguments,0):[];f=[];c=0;for(e=this.length;c<e;c++)d=this[c],f.push(d.l.apply(d,a));return f};return a}();h.list=function(){var a;a=1<=
arguments.length?l.call(arguments,0):[];return function(a,d,c){c.prototype=a.prototype;c=new c;a=a.apply(c,d);d=typeof a;return"object"==d||"function"==d?a||c:c}(u,a,function(){})};h.view={J:function(a){return a.a.getBoundingClientRect()},K:function(a,b){var d,c,e;if(window.getComputedStyle)return d=a.a.ownerDocument.defaultView.getComputedStyle(a.a,j),d=d!=j?d.getPropertyValue(b):void 0,"opacity"===b&&""===d?"1":d;if(a.a.currentStyle)return d=(c=a.a.currentStyle[b])!=j?c:a.a.currentStyle[v()],!/^\d+(?:px)?$/i.test(ret)&&
/^\d/.test(ret)&&(e=[a.a.style.left,a.a.runtimeStyle.left],c=e[0],e=e[1],a.a.runtimeStyle.left=a.a.currentStyle.left,a.a.style.left="font-size"===b?"1em":d||0,d=a.a.style.pixelLeft+"px",c=[c,e],a.a.style.left=c[0],a.a.runtimeStyle.left=c[1]),d}}}).call(this);
