/*
 Tagr, Solid HTML manipulation for webapps. MIT Licensed.
*/
var g=null,j=!1;
function n(){function a(a){"undefined"!==typeof a.useNativeQSA&&(ea=!a.useNativeQSA?b:Aa?c:b)}function b(a,b){var c=[],e,l,h,B,a=a.replace(Ba,"$1");if(e=a.match(Ca)){B=f(e[2]);e=b.a[U](e[1]||"*");l=0;for(h=e.length;l<h;l++)B.test(e[l].get("class"))&&(c[c.length]=p.getContext(e[l]));return c}i(e=a.split(","),fa(b,function(a,za,e){B=Da(za,a);l=0;for(h=B.length;l<h;l++)if(!a.parent||e||d(B[l],b))c[c.length]=B[l]}));return 1<e.length&&1<c.length?V(c):c}function c(a,c){var d=[],e,l;try{if(!c.parent||!ga.test(a))return o(c.a.querySelectorAll(a));
i(e=a.split(","),fa(c,function(a,b){l=a.a.querySelectorAll(b);1==l.length?d[d.length]=l.item(0):l.length&&(d=d.concat(o(l)))}));return 1<e.length&&1<d.length?V(d):d}catch(f){}return b(a,c)}function d(a,b){return b!==a&&b.a.contains(a.a)}function e(){this.t={}}function f(a){return ha.c(a)||ha.d(a,"(^|\\s+)"+a+"(\\s+|$)",1)}function i(a,b){for(var c=0,d=a.length;c<d;c++)b(a[c])}function h(a){for(var b=[],c=0,d=a.length;c<d;++c)X(a[c])?b=b.concat(a[c]):b[b.length]=a[c];return b}function o(a){for(var b=
0,c=a.length,d=[];b<c;b++)d[b]=p.getContext(a[b]);return d}function ia(a){for(;(a=a.previousSibling)&&1!=a[C];);return a}function Y(a){return a.match(Ea)}function Z(a,b,c,d,e,i,h,m,u,Xa,Fa){var o,k,x;if(1!==this[C]||b&&"*"!==b&&this[$]&&this[$].toLowerCase()!==b||c&&(o=c.match(Ga))&&o[1]!==this.id)return j;if(c&&(x=c.match(Ha)))for(a=x.length;a--;)if(!f(x[a].slice(1)).test(this.className))return j;if(u&&z.A[u]&&!z.A[u](this,Fa))return j;if(d&&!h)for(k in u=this.z(),u)if(Object.prototype.hasOwnProperty.call(u,
k)&&k==e)return this;return d&&!Ia(i,this.get(e)||"",h)?j:this}function k(a){return ja.c(a)||ja.d(a,a.replace(Ja,"\\$1"))}function Ia(a,b,c){switch(a){case "=":return b==c;case "^=":return b.match(m.c("^="+c)||m.d("^="+c,"^"+k(c),1));case "$=":return b.match(m.c("$="+c)||m.d("$="+c,k(c)+"$",1));case "*=":return b.match(m.c(c)||m.d(c,k(c),1));case "~=":return b.match(m.c("~="+c)||m.d("~="+c,"(?:^|\\s+)"+k(c)+"(?:\\s+|$)",1));case "|=":return b.match(m.c("|="+c)||m.d("|="+c,"^"+k(c)+"(-|$)",1))}return 0}
function Da(a,b){var c=[],d=[],e,f,h,m,u;e=b;var k=x.c(a)||x.d(a,a.split(ka)),o=a.match(la);if(!k.length)return c;f=(k=k.slice(0)).pop();if(k.length&&(h=k[k.length-1].match(ma)))e=na(b,h[1]);if(!e)return c;h=Y(f);if(e!==b&&9!==e[C]&&o&&/^[+~]$/.test(o[o.length-1])){for(f=[];e=e.nextSibling;)1==e[C]&&(h[1]?h[1]==e[$].toLowerCase():1)&&(f[f.length]=e);e=f}else e=e[U](h[1]||"*");m=e;e=0;for(f=m.length;e<f;e++)if(u=Z.apply(m[e],h))c[c.length]=u;if(!k.length)return c;i(c,function(a){oa(a,k,o)&&(d[d.length]=
a)});return d}function oa(a,b,c,e){function f(a,d,e){for(;e=Ka[c[d]](e,a);)if(G(e)&&Z.apply(e,Y(b[d])))if(d){if(h=f(e,d-1,e))return h}else return e}var h;return(h=f(a,b.length-1,a))&&(!e||d(h,e))}function G(a){var b;return a&&"object"===typeof a&&(b=a[C])&&(1==b||9==b)}function V(a){var b=[],c,d;c=0;a:for(;c<a.length;++c){for(d=0;d<b.length;++d)if(b[d]==a[c])continue a;b[b.length]=a[c]}return b}function X(a){return"object"===typeof a&&isFinite(a.length)}function na(a,b){var c;return(c=a.a.ownerDocument.getElementById(b))&&
c&&(c=p.getContext(c))&&(d(c,a)||c==a)&&c}function z(a,b){var c,e;if(!b||!a)return[];if(a===window||G(a))return!b||a!==window&&G(b)&&d(a,b)?[a]:[];if(a&&X(a))return h(a);if(c=a.match(La)){if(c[1])return(e=na(b,c[1]))?[e]:[];if(c[2])return o(b.a[U](c[2]));if(Ma&&c[3])return o(b.a[pa](c[3]))}return ea(a,b)}function fa(a,b){return function(c){var d,e;if(ga.test(c)){if(9!==a[C]){if(!(e=d=a.get("id")))a.set("id",e="__qwerymeupscotty");b(a.parent||a,'[id="'+e+'"]'+c,!0);d||a.remove("id")}}else c.length&&
b(a,c,j)}}var H=this.document||{},Na=H.documentElement,pa="getElementsByClassName",U="getElementsByTagName",$="tagName",C="nodeType",ea,Ga=/#([\w\-]+)/,Ha=/\.[\w\-]+/g,ma=/^#([\w\-]+)$/,Ca=/^([\w]+)?\.([\w\-]+)$/,ga=/(^|,)\s*[>~+]/,Ba=/^\s+|\s*([,\s\+\~>]|$)\s*/g,qa=/[\s\>\+\~]/,ra=/(?![\s\w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^'"]*\]|[\s\w\+\-]*\))/,Ja=/([.*+?\^=!:${}()|\[\]\/\\])/g,La=RegExp(ma.source+"|"+/^([\w\-]+)$/.source+"|"+/^\.([\w\-]+)$/.source),la=RegExp("("+qa.source+")"+ra.source,"g"),
ka=RegExp(qa.source+ra.source),Ea=RegExp(/^(\*|[a-z0-9]+)?(?:([\.\#]+[\w\-\.#]+)?)/.source+"("+/\[([\w\-]+)(?:([\|\^\$\*\~]?\=)['"]?([ \w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^]+)["']?)?\]/.source+")?("+/:([\w\-]+)(\(['"]?([^()]+)['"]?\))?/.source+")?"),Ka={" ":function(a){return a&&a!==Na&&a.parentNode},">":function(a,b){return a&&a.parentNode==b.parentNode&&a.parentNode},"~":function(a){return a&&a.previousSibling},"+":function(a,b,c,d){return!a?j:(c=ia(a))&&(d=ia(b))&&c==d&&c}};e.prototype={c:function(a){return this.t[a]||
void 0},d:function(a,b,c){b=c?RegExp(b):b;return this.t[a]=b}};var ha=new e,ja=new e,m=new e,x=new e,Ma=!!H[pa],Aa=H.querySelector&&H.querySelectorAll;a({Z:!0});z.M=a;z.Y=V;z.T=function(a,b,c){if(G(b))return a==b;if(X(b))return!!~h(b).indexOf(a);for(var d=b.split(","),e;b=d.pop();)if(e=x.c(b)||x.d(b,b.split(ka)),b=b.match(la),e=e.slice(0),Z.apply(a,Y(e.pop()))&&(!e.length||oa(a,e,b,c)))return!0;return j};z.A={};return z}
"undefined"!=typeof module&&module.l?module.l=n():"function"==typeof this.define&&this.define.amd?define("queryr",n):this.queryr=n();var p,q=this.J;function r(a,b){return Array.prototype.slice.call(a,b)}function aa(a){return"[object Array]"===Object.prototype.toString.call(a)}function s(a){return"[object Object]"==Object.prototype.toString.call(a)}function ba(a,b){for(var c=0;c<a.length;c++)if(a[c]==b)return c;return-1}function ca(a){return String(a).replace(/^\s+|\s+$/g,"")}
function da(a){return a.toLowerCase().replace(/\-[a-z]/g,function(a){return a[1].toUpperCase()})}function t(a,b){function c(){this.constructor=a}c.prototype=b;a.prototype=new c}function v(a){return function(){a.apply(this,arguments);return this}}function w(a){return function(b,c){if("object"!=typeof b)return a.call(this,b,c);for(var d in b)a.call(this,d,b[d])}}function y(a){return function(b,c){if(!aa(b))return a.call(this,b,c);for(var d=0;d<b.length;d++)a.call(this,b[d],c)}}
function A(a){return function(b,c){if(!aa(c))return a.call(this,b,c);for(var d=0;d<c.length;d++)a.call(this,b,c[d])}}function sa(a){var b;if(b=a.match(ta)){a={e:b[1]||"div",f:{}};b=b[2].match(ua)||[];for(var c=0,d=b.length;c<d;c++)switch(b[c].charAt(0)){case "#":a.f.id=b[c].substr(1);break;case ".":a.f["class"]||(a.f["class"]=""),a.f["class"]+=(a.f["class"]&&" ")+b[c].substr(1)}return a}}
function D(a){this.u=a;var b=this;a.w("change:class",function(a){b.splice(0,b.length);ca(a)&&b.push.apply(b,ca(a).split(/\s+/))})}function E(a){this.e=a;this.b={};this.j={};this.g={};this.classList=new D(this)}function F(a,b){this.q=a;this.p=b}function I(a,b,c){this.q=a;this.G=b;this.p=c}function K(a,b){this.i=a;this.m=b;this.j={}}
function va(a){a.target=a.target?3===a.target.nodeType?a.target.parentNode:a.target:a.srcElement;a.relatedTarget=a.relatedTarget||("mouseover"==a.type?a.fromElement:a.toElement);a.offsetX=a.offsetX||a.layerX;a.offsetY=a.offsetY||a.layerY;a.keyCode=a.keyCode||a.which;a.metaKey=a.metaKey===g?a.ctrlKey:a.metaKey;a.preventDefault=a.preventDefault||function(){this.returnValue=j};a.stopPropagation=a.stopPropagation||function(){this.cancelBubble=!0};return a}
function wa(){function a(){var a;for(i=1;a=b.shift();)a()}var b=[],c,d=document,e=d.documentElement,f=e.doScroll,i=/^loade|^c/.test(d.readyState);d.addEventListener&&d.addEventListener("DOMContentLoaded",c=function(){d.removeEventListener("DOMContentLoaded",c,j);a()},j);f&&d.attachEvent("onreadystatechange",c=function(){/^c/.test(d.readyState)&&(d.detachEvent("onreadystatechange",c),a())});(ready=f?function(a){if(self!=top)i?a():b.push(a);else a:{try{e.doScroll("left")}catch(c){setTimeout(function(){ready(a)},
50);break a}a()}}:function(a){i?a():b.push(a)})()}function xa(a){var b=document.createElement("style");b.type="text/css";b.media=a||"all";document.getElementsByTagName("head")[0].appendChild(b);return b.sheet||b.styleSheet}function L(a,b){K.apply(this,arguments)}function M(a){var b=a[0],a=a[1],c;if(1===b.nodeType){if(c=N.get(b))return new F(c,a)}else if(c=N.get(b.parentNode)){for(var d=0;b.previousSibling;)b=b.previousSibling,d++;return new I(c,d,a)}}function ya(){return Oa(E,K)}
function Pa(a){var b=Oa(O,L);b.F=a;b.view={getBox:function(a,b){var e=a.a.getBoundingClientRect();if(b){var f=b.a.getBoundingClientRect(),i;for(i in f)e[i]-=f[i]}return e},getStyle:function(a,b){var e;e=a.a;var f,i,h;window.getComputedStyle?(e=e.ownerDocument.defaultView.getComputedStyle(e,g),h=e!=g?e.getPropertyValue(b):void 0,e="opacity"===b&&""===h?"1":h):e.currentStyle?(h=(f=e.currentStyle[b])!=g?f:e.currentStyle[da(b)],!/^\d+(?:px)?$/i.test(ret)&&/^\d/.test(ret)&&(i=[e.style.left,e.runtimeStyle.left],
f=i[0],i=i[1],e.runtimeStyle.left=e.currentStyle.left,e.style.left="font-size"===b?"1em":h||0,h=e.style.pixelLeft+"px",f=[f,i],e.style.left=f[0],e.runtimeStyle.left=f[1]),e=h):e=void 0;return e},selection:{has:function(){return q.S(a)},getOrigin:function(){return M(q.Q(a))},getFocus:function(){return M(q.P(a))},getStart:function(){return M(q.R(a))},getEnd:function(){return M(q.O(a))},set:function(b,d){return q.U.apply(q,[a].concat(b.r(),d.r()))},unset:function(){return q.L(a)}}};b.K=N;b.getContext=
function(b){var d;if((d=N.get(b))==g)N.set(b,d=new O(b.tagName.toLowerCase(),b,a));return d};b.writeContext=function(a){var d=sa(a||""),e=s(arguments[1])?arguments[1]:{},f=r(arguments,s(arguments[1])?2:1);document.write("<"+d.e+"></"+d.e+">");var i=document.getElementsByTagName(d.e);return b.getContext(i[i.length-1]).set(d.f).set(e).children(f)};b.ready=wa;return b}
function Oa(a,b){return{Element:a,Query:b,ElementAnchor:F,TextAnchor:I,create:function(a){var b=sa(a||""),e=s(arguments[1])?arguments[1]:{},f=r(arguments,s(arguments[1])?2:1);return(new this.Element(b.e,g,this.F)).set(b.f).set(e).children(f)},parse:function(a){if("object"==typeof a){for(var b=s(a[1])?a[1]:{},e=a.slice(s(a[1])?2:1),f=0;f<e.length;f++)aa(e[f])&&(e[f]=this.parse(e[f]));return this.create(a[0],b).children(e)}},dom:Pa,virtual:ya}}var Qa="undefined"!==typeof window;
if("undefined"===typeof P&&"undefined"===typeof module){var P=function(){};P.prototype.v=function(a){return this.hasOwnProperty.call(this.k||(this.k={}),a)?this.k[a]:this.k[a]=[]};P.prototype.addListener=function(a,b){0!==this.D&&this.v(a).push(b)>(this.D||10)&&console&&console.warn("Possible EventEmitter memory leak detected. "+this.k[a].length+" listeners added. Use emitter.setMaxListeners() to increase limit.");this.h("newListener",a,b);return this};P.prototype.w=function(a,b){this.addListener(a,
b)};P.prototype.h=function(a){for(var b=Array.prototype.slice.call(arguments,1),c=0,d=this.v(a).slice();c<d.length;c++)d[c].apply(this,b)}}else"undefined"==typeof P&&"undefined"!=typeof require&&(P=require("events").I);var Q,Ra={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"};Q=function(a){return a.replace(/[&<>'"]/g,function(a){return Ra[a]})};
var Sa="area base br col command embed hr img input keygen link meta param source track wbr".split(" "),ta=/(?:^|\s+)([^.#\[\]:\s]*)(\S*)\s*$/,ua=/([:#.]+)([^:#.]+)/g;t(D,[]);D.prototype.contains=function(a){return 0<=ba(this,String(a))};D.prototype.add=function(a){this.contains(a)||this.u.set("class",a+" "+this)};D.prototype.remove=function(a){for(var b="",c=0,d;d=this[c++];)d!=String(a)&&(b+=d+" ");this.u.set("class",b)};D.prototype.toggle=function(a){this.contains(a)?this.add(a):this.remove(a)};
D.prototype.toString=function(){return this.join(" ")};t(E,[]);var Ta=E.prototype,Ua=P.prototype,R;for(R in Ua)Object.prototype.hasOwnProperty.call(Ua,R)&&(Ta[R]=Ua[R]);E.prototype.get=function(a){return this.b[a]};E.prototype.set=v(w(y(A(function(a,b){this.h("change:"+a,b);this.b[a]=b}))));E.prototype.unset=function(a){this.h("change:"+a);return delete this.b[a]};E.prototype.call=function(a){return this_props[a].apply(this,r(arguments,1))};E.prototype.properties=function(){return JSON.parse(JSON.stringify(this.b))};
E.prototype.persist=function(a){this.g[a]=j};E.prototype.stopPersisting=function(a){this.g[a]=!0};E.prototype.splice=function(a,b){for(var c=0;c<b;c++)"string"!=typeof this[c]&&(this[c].parent=g);for(c=0;c<arguments.length-2;c++){var d=arguments[c+2];"string"!=typeof d&&(d.parent=this)}d=Array.prototype.splice.apply(this,arguments);for(c=0;c<arguments.length-2;c++)this.h("insert",c,arguments[c+2]);return d};
E.prototype.insert=v(function(a,b){"number"!=typeof a&&(b=a,a=-1);0>a&&(a+=this.length+1);this.splice.apply(this,[a,0].concat(b))});E.prototype.remove=v(function(a,b){0>a&&(a+=this.length+1);this.splice(a,b==g?1:b)});E.prototype.children=v(function(a){this.splice.apply(this,[0,this.length].concat(a))});E.prototype.insertSelf=v(function(a,b){a.insert(b,this)});E.prototype.removeSelf=v(function(){this.parent.remove(this.index())});E.prototype.index=function(){return this.parent.indexOf(this)};
E.prototype.spliceText=function(a,b,c,d){if("string"!==typeof this[a])throw Error("Only a string can be spliced.");this[a]=this[a].substr(0,b)+(d||"")+this[a].substr(b+c)};E.prototype.splitText=function(a,b){if("string"!==typeof this[a])throw Error("Cannot split non-text node.");Array.prototype.splice.call(this,a,1,this[a].substr(0,b),this[a].substr(b))};E.prototype.style=v(w(y(A(function(a,b){this.addRule(a,b)}))));E.prototype.rules=function(){return JSON.parse(JSON.stringify(this.j))};
E.prototype.addRule=function(a,b){this.j[a]=b};E.prototype.removeRule=function(a){return delete this.j[a]};E.prototype.query=function(a){return new p.Query(this,a)};E.prototype.findAll=function(a){return this.query(a).findAll()};E.prototype.find=function(a){return this.query(a).find()};E.prototype.toJSON=function(){return[this.e,this.z()].concat(this.map(function(a){return"string"===typeof a?a:a.toJSON()}))};
E.prototype.toHTML=function(){var a=["<"+this.e],b=this.z(),c;for(c in b)Object.prototype.hasOwnProperty.call(b,c)&&a.push(" "+Q(c)+'="'+Q(String(b[c]))+'"');a.push(">");if(-1==ba(Sa,this.e)){for(b=0;b<this.length;b++)a.push("string"==typeof this[b]?Q(this[b]):this[b].X());a.push("</"+this.e+">")}return a.join("")};F.prototype.type="element";F.prototype.r=function(){return[this.q.a,this.p]};I.prototype.type="text";I.prototype.r=function(){return[this.q.a.childNodes[this.G],this.p]};t(K,P.prototype);
K.prototype.style=v(w(y(A(function(a,b){this.addRule(a,b)}))));K.prototype.addRule=function(a,b){this.j[a]=b};K.prototype.find=function(){return this.N()[0]};K.prototype.findAll=function(){return queryr(this.m,this.i)};
var S={"for":"htmlFor",accesskey:"accessKey",codebase:"codeBase",frameborder:"frameBorder",framespacing:"frameSpacing",nowrap:"noWrap",maxlength:"maxLength","class":"className",readonly:"readOnly",longdesc:"longDesc",tabindex:"tabIndex",rowspan:"rowSpan",colspan:"colSpan",enctype:"encType",ismap:"isMap",usemap:"useMap",cellpadding:"cellPadding",cellspacing:"cellSpacing"},Va=1;function T(a){return a.uniqueId||(a.uniqueId=Va++)}
var N={n:{},set:function(a,b){return N.n[T(a)]=b},get:function(a){return N.n[T(a)]},remove:function(a){return delete N.n[T(a)]}};function O(a,b,c){this.a=b||c.document.createElement(a);E.call(this,a)}t(O,E.prototype);O.prototype.B=function(a){this.parent=a;N.set(this.a,this)};O.prototype.C=function(){delete this.parent;N.remove(this.a)};O.prototype.o="";O.prototype.s=function(){this.o||(this.a.className+=" "+(this.o="tagr-"+T(this.a)));return this.o};
O.prototype.get=function(a){return(S[a]||a)in this.a?this.a[S[a]||a]:this.b[a]};O.prototype.set=v(w(y(A(function(a,b){this.h("change:"+a,b);(S[a]||a)in this.a?this.a[S[a]||a]=b:this.b[a]=b}))));O.prototype.unset=function(a){this.h("change:"+a);return(S[a]||a)in this.a?delete this.a[S[a]||a]:delete this.b[a]};O.prototype.call=function(a){return(S[a]||a)in this.a?this.a[S[a]||a].apply(this.a,r(arguments,1)):this.b[a].apply(this,r(arguments,1))};
O.prototype.properties=function(){var a={},b;for(b in this.b)Object.prototype.hasOwnProperty.call(this.b,b)&&!this.g[b]&&(a[b]=this.b);for(var c=0;c<this.a.attributes.length;c++){var d=this.a.attributes[c];this.g[d.name]!==j&&(a[d.name]=this.a[S[d.name]||d.name])}for(b in this.g)Object.prototype.hasOwnProperty.call(this.g,b)&&(!Object.prototype.hasOwnProperty.call(this.b,b)&&this.g[b]==j)&&(a[b]=this.a[S[b]||b]);return a};
O.prototype.addListener=function(a,b){var c=this;this.a.addEventListener?this.a.addEventListener(a,function(b){return c.emit(a,va(b))},j):this.a.attachEvent&&this.a.attachEvent("on"+a,function(){return c.emit(a,va(window.event))});return P.prototype.addListener.call(this,a,b)};
O.prototype.splice=function(a,b){for(var c=this.a,d=0;d<b;d++)c.removeChild(c.childNodes[a]),"string"!=typeof this[a+d]&&this[a+d].C();for(var e=c.childNodes[a],d=0;d<arguments.length-2;d++){var f=arguments[d+2],i;i="string"==typeof arguments[d+2]?this.a.ownerDocument.createTextNode(f):f.a;if(i.parentNode&&1==i.parentNode.nodeType)throw Error("Must remove element before appending elsewhere.");c.insertBefore(i,e);"string"!=typeof f&&f.B(this)}c=Array.prototype.splice.apply(this,arguments);for(d=0;d<
arguments.length-2;d++)this.h("insert",d,arguments[d+2]);return c};O.prototype.push=function(){return this.H.apply(this,[this.length,r(arguments)])};O.prototype.pop=function(){return this.remove(this.length-1)};O.prototype.unshift=function(){return this.H.apply(this,[0].concat(arguments))};O.prototype.shift=function(){return this.remove(0)};O.prototype.sort=function(){};O.prototype.reverse=function(){};
O.prototype.spliceText=function(a,b,c,d){this.a.childNodes[a].replaceData(b,c,d||"");return E.prototype.spliceText.apply(this,arguments)};O.prototype.splitText=function(a,b){this.a.childNodes[a].splitText(b);return E.prototype.splitText.apply(this,arguments)};O.prototype.addRule=function(a,b){try{this.a.style[da(a)]=ca(b)}catch(c){}return E.prototype.addRule.apply(this,arguments)};var Wa={};t(L,K.prototype);
L.prototype.addRule=function(a,b){K.prototype.addRule.apply(this,arguments);var c;c=c||"all";c=Wa[c]||(Wa[c]=new xa(c));c.insertRule!=g?c.insertRule("."+this.i.s()+" "+this.m+" { "+a+": "+b+" }",c.cssRules.length):c.addRule("."+this.i.s()+" "+this.m,""+a+": "+b);return this};
L.prototype.addListener=function(a,b){var c=this;this.i.w(a,function(a){for(var e=queryr(c.m,c.i),f=p.getContext(a.target||a.srcElement);f!=c.i&&f;f=f.parent)-1<ba(e,f)&&b.call(f,a)});return K.prototype.addListener.call(this,a,b)};p=Qa?Pa(window):ya();"undefined"!==typeof module&&module.l?(module.l=p,module.l.V=__dirname):this.W=p;
